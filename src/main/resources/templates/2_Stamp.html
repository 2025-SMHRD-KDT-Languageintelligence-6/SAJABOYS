<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ìŠ¤íƒ¬í”„ íˆ¬ì–´ | ì¶”ì ì</title>

  <!-- Verti ê¸°ë³¸ CSS -->
  <link rel="stylesheet" href="assets/css/main.css" />

  <style>
    body{
      background:#f5fafc;
    }

    .stamp-layout{
      max-width:1100px;
      margin:2.5rem auto 3rem;
      display:grid;
      grid-template-columns:minmax(0,1.2fr) minmax(0,1fr);
      gap:1.5rem;
    }

    .stamp-panel,
    .qr-panel{
      background:#fff;
      border-radius:18px;
      box-shadow:0 4px 14px rgba(0,0,0,.12);
      padding:1.3rem 1.4rem 1.6rem;
    }

    .stamp-panel h2,
    .qr-panel h2{
      margin:0 0 .5rem;
      font-size:1.5rem;
      font-weight:800;
    }

    .panel-desc{
      margin:0 0 1rem;
      font-size:.9rem;
      color:#666;
    }

    /* ìŠ¤íƒ¬í”„ ê·¸ë¦¬ë“œ */
    .stamp-grid{
      display:grid;
      grid-template-columns:repeat(5,1fr);
      gap:.8rem;
      margin-top:.8rem;
    }
    .stamp-cell{
      position:relative;
      border-radius:14px;
      border:2px dashed #cfd8e3;
      padding-top:100%; /* ì •ì‚¬ê°í˜• ë§Œë“¤ê¸° */
      background:#fafbff;
      overflow:hidden;
      text-align:center;
      cursor:default;
    }
    .stamp-inner{
      position:absolute;
      inset:0;
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:center;
      font-size:.85rem;
      color:#777;
      gap:.2rem;
    }
    .stamp-number{
      font-weight:800;
      font-size:1rem;
    }
    .stamp-label{
      font-size:.78rem;
    }

    .stamp-cell.collected{
      border-style:solid;
      border-color:#2ecc71;
      background:#e8fff1;
      box-shadow:0 0 0 2px rgba(46,204,113,.3) inset;
    }
    .stamp-cell.collected .stamp-number{
      color:#1f9d57;
    }
    .stamp-cell.collected .stamp-label::after{
      content:"  âœ”";
      color:#1f9d57;
      font-weight:800;
    }

    .stamp-progress{
      margin-top:1rem;
      font-size:.95rem;
      display:flex;
      justify-content:space-between;
      align-items:center;
      flex-wrap:wrap;
      gap:.3rem;
    }
    .stamp-bar-wrap{
      width:100%;
      margin-top:.4rem;
      background:#e5edf7;
      border-radius:999px;
      overflow:hidden;
      height:12px;
    }
    .stamp-bar{
      height:100%;
      width:0;
      background:#0090c5;
      transition:.3s width ease;
    }

    /* QR ì˜ì—­ */
    .qr-video-box{
      border-radius:16px;
      border:2px dashed #cfd8e3;
      background:linear-gradient(135deg,#f7fbff,#e6f3ff);
      padding:1rem;
      margin:.7rem 0 1rem;
      text-align:center;
    }
    .qr-video-placeholder{
      height:220px;
      border-radius:12px;
      background:#111;
      color:#fff;
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:.95rem;
      margin-bottom:.7rem;
    }

    .qr-buttons{
      display:flex;
      flex-wrap:wrap;
      gap:.5rem;
      justify-content:center;
    }
    .qr-buttons .button{
      min-width:140px;
      font-size:.9rem;
      padding:.5rem 0;
    }

    .muted{
      font-size:.85rem;
      color:#777;
      margin-top:.5rem;
    }

    /* ìƒí’ˆ ë§í¬ */
    .reward-box{
      max-width:1100px;
      margin:0 auto 3rem;
      margin-top:1rem;
      background:#fff8e6;
      border-radius:16px;
      border:1px solid #ffd37a;
      box-shadow:0 3px 10px rgba(0,0,0,.08);
      padding:1rem 1.3rem;
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:1rem;
      flex-wrap:wrap;
    }
    .reward-text strong{
      font-size:1.05rem;
      color:#c27b00;
    }
    .reward-text p{
      margin:.15rem 0 0;
      font-size:.9rem;
      color:#8a6520;
    }
    .reward-btn{
      min-width:160px;
      font-size:1rem;
      padding:.55rem 0;
      background:#ff9800;
      color:#fff;
    }

    .hidden{ display:none; }

    @media (max-width:900px){
      .stamp-layout{
        grid-template-columns:1fr;
      }
    }
  </style>
</head>
<body class="is-preload">

<div id="page-wrapper">

  <!-- ê³µí†µ í—¤ë” include -->
  <div id="site-header"></div>
  <script src="assets/js/header.js"></script>

  <!-- ë©”ì¸ ë ˆì´ì•„ì›ƒ -->
  <main class="stamp-layout">

    <!-- ì™¼ìª½ : ìŠ¤íƒ¬í”„ ëª¨ìŒ -->
    <section class="stamp-panel">
      <h2>ìŠ¤íƒ¬í”„ íˆ¬ì–´ ì§„í–‰ í˜„í™©</h2>
      <p class="panel-desc">
        ì¶•ì œ ì¥ì†Œ ê³³ê³³ì— ìˆ¨ê²¨ì§„ QRì½”ë“œë¥¼ ì°ê³ , ì´ 10ê°œì˜ ìŠ¤íƒ¬í”„ë¥¼ ëª¨ì•„ë³´ì„¸ìš”!
      </p>

      <!-- ì§„í–‰ í…ìŠ¤íŠ¸ -->
      <div class="stamp-progress">
        <span>í˜„ì¬ ìŠ¤íƒ¬í”„ : <strong id="stampCountText">0 / 10</strong></span>
        <span style="font-size:.85rem;color:#999;">â€» ê° ì¥ì†Œë‹¹ 1íšŒë§Œ ì ë¦½ë©ë‹ˆë‹¤.</span>
        <div class="stamp-bar-wrap">
          <div class="stamp-bar" id="stampBar"></div>
        </div>
      </div>

      <!-- ìŠ¤íƒ¬í”„ 10ê°œ ê·¸ë¦¬ë“œ -->
      <div class="stamp-grid" id="stampGrid">
        <!-- 1~10 ìŠ¤íƒ¬í”„ ì¹¸ -->
        <!-- ìˆ«ìëŠ” JS ì—†ì´ë„ ë³´ì´ë„ë¡ ë¯¸ë¦¬ ì‘ì„± -->
        <div class="stamp-cell">
          <div class="stamp-inner">
            <div class="stamp-number">1</div>
            <div class="stamp-label">STAMP</div>
          </div>
        </div>
        <div class="stamp-cell">
          <div class="stamp-inner">
            <div class="stamp-number">2</div>
            <div class="stamp-label">STAMP</div>
          </div>
        </div>
        <div class="stamp-cell">
          <div class="stamp-inner">
            <div class="stamp-number">3</div>
            <div class="stamp-label">STAMP</div>
          </div>
        </div>
        <div class="stamp-cell">
          <div class="stamp-inner">
            <div class="stamp-number">4</div>
            <div class="stamp-label">STAMP</div>
          </div>
        </div>
        <div class="stamp-cell">
          <div class="stamp-inner">
            <div class="stamp-number">5</div>
            <div class="stamp-label">STAMP</div>
          </div>
        </div>
        <div class="stamp-cell">
          <div class="stamp-inner">
            <div class="stamp-number">6</div>
            <div class="stamp-label">STAMP</div>
          </div>
        </div>
        <div class="stamp-cell">
          <div class="stamp-inner">
            <div class="stamp-number">7</div>
            <div class="stamp-label">STAMP</div>
          </div>
        </div>
        <div class="stamp-cell">
          <div class="stamp-inner">
            <div class="stamp-number">8</div>
            <div class="stamp-label">STAMP</div>
          </div>
        </div>
        <div class="stamp-cell">
          <div class="stamp-inner">
            <div class="stamp-number">9</div>
            <div class="stamp-label">STAMP</div>
          </div>
        </div>
        <div class="stamp-cell">
          <div class="stamp-inner">
            <div class="stamp-number">10</div>
            <div class="stamp-label">STAMP</div>
          </div>
        </div>
      </div>
    </section>

    <!-- ì˜¤ë¥¸ìª½ : QR ì¹´ë©”ë¼ ì˜ì—­ -->
    <section class="qr-panel">
      <h2>QR ì½”ë“œ ìŠ¤ìº”</h2>
      <p class="panel-desc">
        ìŠ¤íƒ¬í”„ í¬ì¸íŠ¸ì—ì„œ ì œê³µë˜ëŠ” QR ì½”ë“œë¥¼ ì¹´ë©”ë¼ë¡œ ë¹„ì¶”ë©´ ìë™ìœ¼ë¡œ ìŠ¤íƒ¬í”„ê°€ ì ë¦½ë©ë‹ˆë‹¤.
      </p>

      <div class="qr-video-box">
        <div class="qr-video-placeholder" id="qrPreview">
          ğŸ“· ì¹´ë©”ë¼ ë¯¸ë¦¬ë³´ê¸° (ë°ëª¨ìš© í™”ë©´)<br/>
          ì‹¤ì œ ì„œë¹„ìŠ¤ì—ì„œëŠ” QR ì¸ì‹ ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ì—°ë™ë©ë‹ˆë‹¤.
        </div>

        <div class="qr-buttons">
          <button type="button" class="button alt" id="openCamBtn">ì¹´ë©”ë¼ ì—´ê¸°</button>
          <button type="button" class="button" id="mockScanBtn">QR ìŠ¤ìº” ì™„ë£Œ (í…ŒìŠ¤íŠ¸)</button>
        </div>

        <p class="muted">
          â€» ë°ëª¨ ë²„ì „ì—ì„œëŠ” <strong>â€œQR ìŠ¤ìº” ì™„ë£Œ (í…ŒìŠ¤íŠ¸)â€</strong> ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ìŠ¤íƒ¬í”„ê°€ 1ê°œì”© ì±„ì›Œì§‘ë‹ˆë‹¤.
        </p>
      </div>

      <p class="muted">
        ì¹´ë©”ë¼ ì‚¬ìš© ê¶Œí•œì„ í—ˆìš©í•˜ë©´, ë¸Œë¼ìš°ì € ë‚´ì—ì„œ ë°”ë¡œ QR ì½”ë“œë¥¼ ì¸ì‹í•˜ê³  ìŠ¤íƒ¬í”„ì— ë°˜ì˜ë©ë‹ˆë‹¤.
      </p>
    </section>
  </main>

  <!-- ìŠ¤íƒ¬í”„ 10ê°œ ì™„ë£Œ ì‹œ ë‚˜íƒ€ë‚˜ëŠ” ìƒí’ˆ ë§í¬ ì˜ì—­ -->
  <section id="rewardSection" class="reward-box hidden">
    <div class="reward-text">
      <strong>ì¶•í•˜í•©ë‹ˆë‹¤! ìŠ¤íƒ¬í”„ 10ê°œë¥¼ ëª¨ë‘ ëª¨ìœ¼ì…¨ìŠµë‹ˆë‹¤ ğŸ‰</strong>
      <p>
        ì¶•ì œ ìš´ì˜ ë¶€ìŠ¤ì—ì„œ ìƒí’ˆì„ êµí™˜í•˜ê±°ë‚˜, ì•„ë˜ ë²„íŠ¼ì„ ëˆŒëŸ¬ ì˜¨ë¼ì¸ ìƒí’ˆ êµí™˜ í˜ì´ì§€ë¡œ ì´ë™í•˜ì„¸ìš”.
      </p>
    </div>
    <button type="button" class="button reward-btn" onclick="location.href='rewardExchange.html'">
      ìƒí’ˆ êµí™˜ í˜ì´ì§€ë¡œ ì´ë™
    </button>
  </section>

  <!-- í‘¸í„° -->
  <div id="footer-wrapper">
    <div class="container" id="footer">
      <div id="copyright">
        <ul class="menu">
          <li>&copy; 2025 RunBack</li>
          <li>ì¶”ì ì Â· ìŠ¤íƒ¬í”„ íˆ¬ì–´</li>
        </ul>
      </div>
    </div>
  </div>
</div>

<script>
  // ìŠ¤íƒ¬í”„ ê´€ë ¨
  const totalStamps = 10;
  let collected = 0;

  const stampCells   = document.querySelectorAll('#stampGrid .stamp-cell');
  const stampCountEl = document.getElementById('stampCountText');
  const stampBar     = document.getElementById('stampBar');
  const rewardBox    = document.getElementById('rewardSection');

  function updateStampUI(){
    // ì¹ í•´ì§ˆ ê°œìˆ˜ë§Œ collectedë¡œ
    stampCells.forEach((cell, idx) => {
      if(idx < collected) cell.classList.add('collected');
      else cell.classList.remove('collected');
    });

    stampCountEl.textContent = collected + ' / ' + totalStamps;
    const ratio = (collected / totalStamps) * 100;
    stampBar.style.width = ratio + '%';

    if(collected >= totalStamps){
      rewardBox.classList.remove('hidden');
    }
  }

  function addStamp(){
    if(collected >= totalStamps){
      alert('ì´ë¯¸ ìŠ¤íƒ¬í”„ë¥¼ ëª¨ë‘ ëª¨ì•˜ìŠµë‹ˆë‹¤!');
      return;
    }
    collected++;
    updateStampUI();

    if(collected === totalStamps){
      alert('ì¶•í•˜í•©ë‹ˆë‹¤! ìŠ¤íƒ¬í”„ 10ê°œë¥¼ ëª¨ë‘ ëª¨ì•˜ìŠµë‹ˆë‹¤.\nìƒí’ˆ êµí™˜ ë§í¬ê°€ í™œì„±í™”ë©ë‹ˆë‹¤.');
    }
  }

  // ë°ëª¨ìš© ë²„íŠ¼: ì‹¤ì œë¡œëŠ” QR ì¸ì‹ ì„±ê³µ ì½œë°±ì—ì„œ addStamp() í˜¸ì¶œ
  document.getElementById('mockScanBtn').addEventListener('click', addStamp);

  // ì¹´ë©”ë¼ ì—´ê¸° (ê°„ë‹¨ ì•ˆë‚´ë§Œ; ì‹¤ì œ ì—°ë™ì€ getUserMedia ì‚¬ìš©)
  document.getElementById('openCamBtn').addEventListener('click', () => {
    alert('ì‹¤ì œ ì„œë¹„ìŠ¤ì—ì„œëŠ” ì¹´ë©”ë¼ ê¶Œí•œì„ ìš”ì²­í•˜ê³ ,\nQR ì½”ë“œë¥¼ ìë™ ì¸ì‹í•˜ë„ë¡ êµ¬í˜„í•©ë‹ˆë‹¤. (ë°ëª¨ìš© ì•ˆë‚´)');
  });

  // ì´ˆê¸° UI ë°˜ì˜
  updateStampUI();
</script>

</body>
</html>
